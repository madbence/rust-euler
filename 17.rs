fn main() {
    println!("{}", (1..1001).fold(0, |sum, n| sum + len(n)));
}

fn len(n: u32) -> u32 {
    match n {
        1000 => 11,
        100...999 => len(n / 100) + 7 + if n % 100 > 0 { 3 + len(n % 100) } else { 0 },
        1|2|6|10 => 3,
        4|5|9 => 4,
        3|7|8 => 5,
        11|12 => 6,
        13|14|18|19 => 8,
        15|16 => 7,
        17 => 9,
        20...39|80...99 => len(n % 10) + 6,
        40...69 => len(n % 10) + 5,
        70...79 => len(n % 10) + 7,
        _ => 0,
    }
}
